{"ast":null,"code":"import { localStorageKey } from \"../constants/auth.constants\";\n\nfunction login(username, password) {\n  return new Promise(resolve => fetch('http://playground.tesonet.lt/v1/tokens', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).then(res => res.json()).then(data => {\n    if (data) {\n      // Successful login\n      if (data.token) {\n        localStorage.setItem(localStorageKey, data.token);\n        resolve(true);\n      } else if (data.message) {\n        resolve(false);\n      }\n    }\n\n    resolve(false);\n  }));\n}\n\nexport const userService = {\n  login\n};","map":{"version":3,"sources":["/Users/mindaugas/Desktop/frontend-party/src/services/auth.service.ts"],"names":["localStorageKey","login","username","password","Promise","resolve","fetch","method","headers","body","JSON","stringify","then","res","json","data","token","localStorage","setItem","message","userService"],"mappings":"AAAA,SAAQA,eAAR,QAA8B,6BAA9B;;AAEA,SAASC,KAAT,CAAeC,QAAf,EAAiCC,QAAjC,EAAqE;AACjE,SAAO,IAAIC,OAAJ,CAAqBC,OAAO,IAAIC,KAAK,CAAC,wCAAD,EAA2C;AAC/EC,IAAAA,MAAM,EAAE,MADuE;AAE/EC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAFsE;AAM/EC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBT,MAAAA,QADiB;AAEjBC,MAAAA;AAFiB,KAAf;AANyE,GAA3C,CAAL,CAUhCS,IAVgC,CAU3BC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVoB,EAW9BF,IAX8B,CAWzBG,IAAI,IAAI;AACV,QAAIA,IAAJ,EAAU;AACN;AACA,UAAIA,IAAI,CAACC,KAAT,EAAgB;AACZC,QAAAA,YAAY,CAACC,OAAb,CAAqBlB,eAArB,EAAsCe,IAAI,CAACC,KAA3C;AACAX,QAAAA,OAAO,CAAC,IAAD,CAAP;AACH,OAHD,MAGO,IAAIU,IAAI,CAACI,OAAT,EAAkB;AACrBd,QAAAA,OAAO,CAAC,KAAD,CAAP;AACH;AACJ;;AACDA,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAtB8B,CAAhC,CAAP;AAwBH;;AAED,OAAO,MAAMe,WAAW,GAAG;AACvBnB,EAAAA;AADuB,CAApB","sourcesContent":["import {localStorageKey} from \"../constants/auth.constants\";\n\nfunction login(username: string, password: string): Promise<boolean> {\n    return new Promise<boolean>(resolve => fetch('http://playground.tesonet.lt/v1/tokens', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username,\n                password\n            })\n        }).then(res => res.json())\n            .then(data => {\n                if (data) {\n                    // Successful login\n                    if (data.token) {\n                        localStorage.setItem(localStorageKey, data.token);\n                        resolve(true);\n                    } else if (data.message) {\n                        resolve(false);\n                    }\n                }\n                resolve(false);\n            })\n    );\n}\n\nexport const userService = {\n    login\n};\n"]},"metadata":{},"sourceType":"module"}